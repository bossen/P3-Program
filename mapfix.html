<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyACnSnrj-Vzj_6ZEeVpAFTtuuXOsXVRaO0&sensor=true">
    </script>
    <script type="text/javascript">

      var geocoder ;
      var map;
      var markerarray = [];
      var infoWindow = null;
      var location;

      function GetLocation(address) {

        GetGeocode(address, function(LocationData) {
            location = LocationData;
            while(LocationData != undefined) {
                return location;
            }
        });
      }

      function GetData(address, name, infostring) {

          var location;
          GetGeocode(address, function(LocationData) {
              
              if (name == undefined) {
                  while (LocationData != undefined) {
                      CreateSingleMarker(LocationData);
                  }
              }
              else {
                while(LocationData != undefined) {
                    AddMarkers(LocationData, name, infostring)
                }
              }
          });
           
      }


      function initialize() {
          //geocoder = new google.maps.Geocoder();
          //infoWindow = new google.maps.InfoWindow({
          //    content: "Loading..."
          //})

        var mapOptions = {
          //We set the default center to "Aalborg"
          center: new google.maps.LatLng(57.043733, 9.9485388),
          zoom: 13
        };

        map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);
      }

      function GetGeocode(address, callback) {
        geocoder = new google.maps.Geocoder();

        geocoder.geocode( { 'address': address}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
                returnvalue = callback(results[0].geometry.location);          
            }
        })
      } 

      function CreateSingleMarker(location, name) {
          var marker = new google.maps.Marker({
              position: location,
              map: map,
              title: name
          })

          markers.push(markerarray)
      }


      function AddMarkers(location, name, infostring) {

          infoWindow = new google.maps.InfoWindow({
              content: "Loading..."
          })  

          var marker = new google.maps.Marker({
              position: location,
              map: map,
              title: name,
              info: infostring
          });

          markers.push(makerarray)

          google.maps.event.addListener(marker, "click", function () {
          infoWindow.setContent(this.info);
          infoWindow.open(map, this);   
          })

          google.maps.event.addListener(map, "click", function(){
          infoWindow.close();
          })
        }

        google.maps.event.addDomListener(window, 'load', initialize);

    
        var test1 = "pik";
        var test2 = GetLocation(test1)
        alert(test2);

    </script>
  </head>
  <body>
    <div id="map-canvas"/>
  </body>
</html>